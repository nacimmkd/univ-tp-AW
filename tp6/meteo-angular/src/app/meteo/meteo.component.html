<form class="mb-4 p-4 bg-body-secondary rounded" (ngSubmit)="onSubmit()">
  <div class="input-group mb-2">
    <input
      type="search"
      placeholder="Ville ..."
      id="name"
      name="name"
      class="form-control form-control-lg"
      required
      minlength="3"
      [(ngModel)]="city.name"
      #name="ngModel"
    />
    <button class="btn btn-primary btn-lg" type="submit" [disabled]="!name.valid">
      Go!
    </button>
  </div>

  <small *ngIf="city.name" class="form-text text-muted mb-2">
    {{city.name.length}} caractères
  </small>

  <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
  <div *ngIf="name.errors && name.errors['required']">
    La saisie de la ville est obligatoire
  </div>
  <div *ngIf="name.errors && name.errors['minlength']">
    Doit contenir au moins 3 caractères.
  </div>
</div>

</form>


<!-- Liste des villes -->
<h4 class="mb-3">Liste des villes ({{cityList.length}})</h4>

<ul class="list-group">
  <li
    *ngFor="let city of cityList"
    class="list-group-item d-flex justify-content-between align-items-center mb-2"
  >
    <a routerLink="/meteo/{{city.name}}" class="flex-grow-1 text-decoration-none text-dark">
      {{city.name}}
    </a>
    <button
      (click)="remove(city)"
      class="btn btn-danger btn-sm ms-2"
      title="Supprimer de la liste"
    >
      &times;
    </button>
  </li>
</ul>

<div class="alert bg-body-secondary mt-3" *ngIf="cityList.length === 0">
  Aucune ville saisie !
</div>



